{"version":3,"sources":["components/Navbar/NavbarElements.js","components/Navbar/index.js","pages/index.js","components/CanvasToolbar.tsx","components/DrawableCanvasState.tsx","components/lib/fabrictool.ts","components/lib/singlearrowhead.ts","components/lib/doublearrowhead.ts","components/lib/circle.ts","components/lib/coordinate.ts","components/lib/curve.ts","components/lib/freedraw.ts","components/lib/line.ts","components/lib/point.ts","components/lib/polygon.ts","components/lib/rect.ts","components/lib/text.ts","components/lib/index.ts","components/lib/transform.ts","components/DrawableCanvas.tsx","components/constants.js","components/DrawingModeSelector.tsx","components/DrawingApp.tsx","components/QuestionsComponent.js","pages/Discussion03.js","components/Footer.js","App.js","index.tsx","components/CanvasToolbar.module.css","components/img/undo.png","components/img/bin.png"],"names":["Nav","styled","nav","NavLink","Link","Bars","FaBars","NavMenu","div","Navbar","React","createElement","Fragment","to","Home","style","display","justifyContent","alignItems","height","SquareIcon","_ref","imgUrl","altText","invertX","size","enabled","clickCallback","src","className","styles","disabled","invertx","alt","title","width","onClick","defaultProps","CanvasToolbar","_ref2","topPosition","leftPosition","canUndo","canRedo","downloadCallback","undoCallback","redoCallback","resetCallback","iconElements","undo","bin","position","top","left","flexDirection","gap","zIndex","map","e","key","NO_ACTION","shouldReloadCanvas","forceSendToStreamlit","RELOAD_CANVAS","SEND_TO_STREAMLIT","RELOAD_AND_SEND_TO_STREAMLIT","canvasStateReducer","state","action","type","Error","isEmpty","currentState","history","undoStack","redoStack","initialState","isEqual","undoOverHistoryMaxCount","length","slice","lastState","nextState","CanvasStateContext","createContext","CanvasStateProvider","children","canvasState","dispatch","useReducer","saveState","useCallback","console","log","redo","forceStreamlitUpdate","resetState","Provider","value","FabricTool","constructor","canvas","_canvas","this","SingleArrowHeadTool","arguments","isMouseDown","strokeWidth","strokeColor","currentLine","fabric","Line","startCircle","Circle","singlearrow","Group","endTriangle","Triangle","configureCanvas","isDrawingMode","selection","forEachObject","o","selectable","evented","on","onMouseDown","onMouseMove","onMouseUp","onMouseOut","off","_clicked","pointer","getPointer","points","x","y","fill","stroke","originX","originY","add","set","x2","y2","remove","yy2","yy1","xx2","xx1","y1","x1","toObject","angle","Math","atan2","PI","util","object","extend","call","toolType","renderAll","updatedgroup","DoubleArrowHeadTool","doublearrow","startTriangle","setCoords","CircleTool","fillColor","currentCircle","currentStartX","currentStartY","_minRadius","linearDistance","point1","point2","xs","ys","sqrt","radius","_radius","max","CoordinateTool","horizontalLine","verticalLine","coordinateCircle","coordinatesTextX","coordinatesTextY","tempHorizontalLine","tempVerticalLine","tempCoordinateCircle","tempCoordinatesText","coordinates_group","tempCoordinates_group","scaleFactors","canvasWidth","canvasHeight","clearTemporaryObjects","button","drawLinesAndCoordinates","drawTemporaryLinesAndCoordinates","strokeDashArray","xx","yy","Text","toFixed","fontSize","CurveTool","curvePath","Path","tempCurvePath","controlPoints","tempCurve","finalCurve","_pathString","onMouseDoubleClick","_start","push","generateCurvePathData","linePath","pop","d3","curve","alpha","lineGenerator","FreedrawTool","freeDrawingBrush","color","LineTool","PointTool","displayRadius","PolygonTool","currentPath","RectTool","currentRect","Rect","_minLength","transparentCorners","strokeUniform","noScaleCache","abs","_width","_height","TextTool","text","IText","setActiveObject","enterEditing","hiddenTextarea","focus","tools","circle","coordinate","freedraw","line","polygon","rect","singlearrowhead","doublearrowhead","transform","args","handleDoubleClick","getActiveObject","point","rect2c","DrawableCanvas","id","backgroundColor","backgroundImageURL","drawingMode","initialDrawing","displayToolbar","setCanvas","useState","backgroundCanvas","setBackgroundCanvas","useContext","useEffect","c","Canvas","enableRetinaScaling","imgC","StaticCanvas","canvasElement","document","getElementById","addEventListener","preventDefault","removeEventListener","loadFromJSON","bgImage","Image","onload","getContext","drawImage","rect2","lockMovementX","lockMovementY","lockRotation","lockScalingX","lockScalingY","hasControls","cleanupToolEvents","handleMouseUp","toJSON","border","tempCanvas","tempContext","getElement","dataURL","toDataURL","link","href","download","click","DrawingModeSelector","setDrawingMode","modes","mode","icon","process","description","MoveUpRight","Dot","Type","MousePointer2","flexWrap","Icon","margin","padding","cursor","borderRadius","DrawingApp","setStrokeColor","setStrokeWidth","canvasProps","marginBottom","marginLeft","htmlFor","onChange","target","min","Number","Object","assign","QuestionsComponent","questions","userAnswers","setUserAnswers","fullname","setFullname","handleInputChange","questionId","prev","wrapText","font","maxWidth","words","split","lines","i","word","widthOfTextAtSize","addNewPage","pdfDoc","pageWidth","pageHeight","page","addPage","yOffset","minHeight","paddingLeft","textAlign","async","userInputData","question","index","PDFDocument","create","embedFont","StandardFonts","Helvetica","boldFont","HelveticaBold","fullNameLines","drawText","entries","questionText","label","questionLines","qtype","option","options","optionLines","answerText","answerLines","mainCanvasId","backgroundCanvasId","combineCanvases","mainCanvas","tempCtx","combinedCanvasImage","pngImage","embedPng","pdfBytes","save","blob","Blob","saveAs","onSubmit","json","JSON","stringify","flex","minWidth","paddingRight","ceil","name","marginTop","maxLength","Discussion03","currentDate","Date","targetDate","endDate","isAvailable","data","Footer","App","Router","Routes","Route","path","element","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.1c1162f3.chunk.js","sourcesContent":["// components/Navbar/navbarElements.js\r\n\r\nimport { FaBars } from \"react-icons/fa\";\r\nimport { NavLink as Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const Nav = styled.nav`\r\n  background: #63d471;\r\n  height: 85px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0.2rem calc((100vw - 1000px) / 2);\r\n  z-index: 12;\r\n  /* Third Nav */\r\n  /* justify-content: flex-start; */\r\n`;\r\n\r\nexport const NavLink = styled(Link)`\r\n  color: #808080;\r\n  display: flex;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  height: 100%;\r\n  cursor: pointer;\r\n  &.active {\r\n    color: #000000;\r\n  }\r\n`;\r\n\r\nexport const Bars = styled(FaBars)`\r\n  display: none;\r\n  color: #808080;\r\n  @media screen and (max-width: 768px) {\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    transform: translate(-100%, 75%);\r\n    font-size: 1.8rem;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NavMenu = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: -24px;\r\n  /* Second Nav */\r\n  /* margin-right: 24px; */\r\n  /* Third Nav */\r\n  /* width: 100vw;\r\n  white-space: nowrap; */\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtn = styled.nav`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 24px;\r\n  /* Third Nav */\r\n  /* justify-content: flex-end;\r\n  width: 100vw; */\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtnLink = styled(Link)`\r\n  border-radius: 4px;\r\n  background: #808080;\r\n  padding: 10px 22px;\r\n  color: #000000;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n  /* Second Nav */\r\n  margin-left: 24px;\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #808080;\r\n  }\r\n`;\r\n","// components/Navbar/index.js\r\n\r\nimport React from \"react\"\r\nimport { Nav, NavLink, Bars, NavMenu } from \"./NavbarElements\"\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <>\r\n      <Nav>\r\n        <Bars />\r\n        <NavMenu>\r\n          <NavLink to=\"/Discussion03\">Discussion03</NavLink>\r\n        </NavMenu>\r\n      </Nav>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","// pages/index.js\r\n\r\nimport React from \"react\"\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"centre\",\r\n        alignItems: \"centre\",\r\n        height: \"100vh\",\r\n      }}\r\n    >\r\n      <h1>\r\n        Welcome to Econ 31303! Navigate to the assessment you want to access.\r\n      </h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from \"react\"\nimport styles from \"./CanvasToolbar.module.css\"\nimport bin from \"./img/bin.png\"\nimport undo from \"./img/undo.png\"\n//import download from \"./img/download.png\"\n\ninterface SquareIconProps {\n  imgUrl: string\n  altText: string\n  invertX?: boolean\n  size: number\n  enabled: boolean\n  clickCallback: () => void\n}\n\nconst SquareIcon = ({\n  imgUrl,\n  altText,\n  invertX,\n  size,\n  enabled,\n  clickCallback,\n}: SquareIconProps) => (\n  <img\n    src={imgUrl}\n    className={`\n    ${enabled ? styles.enabled : styles.disabled} ${\n      invertX ? \"\" : styles.invertx\n    }\n    `}\n    alt={altText}\n    title={altText}\n    height={`${size}px`}\n    width={`${size}px`}\n    onClick={clickCallback}\n  />\n)\nSquareIcon.defaultProps = {\n  invertX: false,\n}\n\ninterface CanvasToolbarProps {\n  topPosition: number\n  leftPosition: number\n  canUndo: boolean\n  canRedo: boolean\n  downloadCallback: () => void\n  undoCallback: () => void\n  redoCallback: () => void\n  resetCallback: () => void\n}\n\nconst CanvasToolbar = ({\n  topPosition,\n  leftPosition,\n  canUndo,\n  canRedo,\n  downloadCallback,\n  undoCallback,\n  redoCallback,\n  resetCallback,\n}: CanvasToolbarProps) => {\n  const GAP_BETWEEN_ICONS = 4\n  const ICON_SIZE = 24\n\n  const iconElements = [\n    // {\n    //   imgUrl: download,\n    //   altText: \"download\",\n    //   invertX: false,\n    //   enabled: true,\n    //   clickCallback: downloadCallback,\n    // },\n    {\n      imgUrl: undo,\n      altText: \"Undo\",\n      invertX: true,\n      enabled: canUndo,\n      clickCallback: canUndo ? undoCallback : () => {},\n    },\n    {\n      imgUrl: undo,\n      altText: \"Redo\",\n      invertX: false,\n      enabled: canRedo,\n      clickCallback: canRedo ? redoCallback : () => {},\n    },\n    {\n      imgUrl: bin,\n      altText: \"Reset canvas & history\",\n      invertX: false,\n      enabled: true,\n      clickCallback: resetCallback,\n    },\n  ]\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: topPosition + 4,\n        left: leftPosition, //0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: GAP_BETWEEN_ICONS,\n        zIndex: 20,\n      }}\n    >\n      {iconElements.map((e) => (\n        <SquareIcon\n          key={e.altText}\n          imgUrl={e.imgUrl}\n          altText={e.altText}\n          invertX={e.invertX}\n          size={ICON_SIZE}\n          enabled={e.enabled}\n          clickCallback={e.clickCallback}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default CanvasToolbar\n","// DrawableCanvasState.tsx\nimport React, {\n  createContext,\n  useReducer,\n  useContext,\n  useCallback,\n} from \"react\"\nimport { isEmpty, isEqual } from \"lodash\"\n\nconst HISTORY_MAX_COUNT = 100\n\ninterface CanvasHistory {\n  undoStack: Object[] // store previous canvas states\n  redoStack: Object[] // store undone canvas states\n}\n\ninterface CanvasAction {\n  shouldReloadCanvas: boolean // reload currentState into app canvas, on undo/redo\n  forceSendToStreamlit: boolean // send currentState back to Streamlit\n}\n\nconst NO_ACTION: CanvasAction = {\n  shouldReloadCanvas: false,\n  forceSendToStreamlit: false,\n}\n\nconst RELOAD_CANVAS: CanvasAction = {\n  shouldReloadCanvas: true,\n  forceSendToStreamlit: false,\n}\n\nconst SEND_TO_STREAMLIT: CanvasAction = {\n  shouldReloadCanvas: false,\n  forceSendToStreamlit: true,\n}\n\nconst RELOAD_AND_SEND_TO_STREAMLIT: CanvasAction = {\n  shouldReloadCanvas: true,\n  forceSendToStreamlit: true,\n}\n\ninterface CanvasState {\n  history: CanvasHistory\n  action: CanvasAction\n  initialState: Object // first currentState for app\n  currentState: Object // current canvas state as canvas.toJSON()\n}\n\ninterface Action {\n  type: \"save\" | \"undo\" | \"redo\" | \"reset\" | \"forceSendToStreamlit\"\n  state?: Object\n}\n\nconst canvasStateReducer = (\n  state: CanvasState,\n  action: Action\n): CanvasState => {\n  switch (action.type) {\n    case \"save\":\n      if (!action.state) throw new Error(\"No action state to save\")\n      if (isEmpty(state.currentState)) {\n        return {\n          history: {\n            undoStack: [],\n            redoStack: [],\n          },\n          action: { ...NO_ACTION },\n          initialState: action.state,\n          currentState: action.state,\n        }\n      } else if (isEqual(action.state, state.currentState)) {\n        return {\n          history: { ...state.history },\n          action: { ...NO_ACTION },\n          initialState: state.initialState,\n          currentState: state.currentState,\n        }\n      } else {\n        const undoOverHistoryMaxCount =\n          state.history.undoStack.length >= HISTORY_MAX_COUNT\n        return {\n          history: {\n            undoStack: [\n              ...state.history.undoStack.slice(undoOverHistoryMaxCount ? 1 : 0),\n              state.currentState,\n            ],\n            redoStack: [],\n          },\n          action: { ...NO_ACTION },\n          initialState:\n            state.initialState == null\n              ? state.currentState\n              : state.initialState,\n          currentState: action.state,\n        }\n      }\n    case \"undo\":\n      if (state.history.undoStack.length === 0) {\n        return {\n          history: { ...state.history },\n          action: { ...NO_ACTION },\n          initialState: state.initialState,\n          currentState: state.currentState,\n        }\n      } else {\n        const lastState =\n          state.history.undoStack[state.history.undoStack.length - 1]\n        return {\n          history: {\n            undoStack: state.history.undoStack.slice(0, -1),\n            redoStack: [...state.history.redoStack, state.currentState],\n          },\n          action: { ...RELOAD_CANVAS },\n          initialState: state.initialState,\n          currentState: lastState,\n        }\n      }\n    case \"redo\":\n      if (state.history.redoStack.length > 0) {\n        const nextState =\n          state.history.redoStack[state.history.redoStack.length - 1]\n        return {\n          history: {\n            undoStack: [...state.history.undoStack, state.currentState],\n            redoStack: state.history.redoStack.slice(0, -1),\n          },\n          action: { ...RELOAD_CANVAS },\n          initialState: state.initialState,\n          currentState: nextState,\n        }\n      } else {\n        return {\n          history: { ...state.history },\n          action: { ...NO_ACTION },\n          initialState: state.initialState,\n          currentState: state.currentState,\n        }\n      }\n    case \"reset\":\n      if (!action.state) throw new Error(\"No action state to store in reset\")\n      return {\n        history: {\n          undoStack: [],\n          redoStack: [],\n        },\n        action: { ...RELOAD_AND_SEND_TO_STREAMLIT },\n        initialState: action.state,\n        currentState: action.state,\n      }\n    case \"forceSendToStreamlit\":\n      return {\n        history: { ...state.history },\n        action: { ...SEND_TO_STREAMLIT },\n        initialState: state.initialState,\n        currentState: state.currentState,\n      }\n    default:\n      throw new Error(\"TS should protect from this\")\n  }\n}\n\nconst initialState: CanvasState = {\n  history: {\n    undoStack: [],\n    redoStack: [],\n  },\n  action: {\n    forceSendToStreamlit: false,\n    shouldReloadCanvas: false,\n  },\n  initialState: {},\n  currentState: {},\n}\n\ninterface CanvasStateContextProps {\n  canvasState: CanvasState\n  saveState: (state: Object) => void\n  undo: () => void\n  redo: () => void\n  forceStreamlitUpdate: () => void\n  canUndo: boolean\n  canRedo: boolean\n  resetState: (state: Object) => void\n}\n\nconst CanvasStateContext = createContext<CanvasStateContextProps>(\n  {} as CanvasStateContextProps\n)\n\nexport const CanvasStateProvider = ({\n  children,\n}: React.PropsWithChildren<{}>) => {\n  const [canvasState, dispatch] = useReducer(canvasStateReducer, initialState)\n\n  // Setup our callback functions\n  const saveState = useCallback(\n    (state) => {\n      console.log(\"Saving state 1:\", state)\n      dispatch({ type: \"save\", state })\n    },\n    [dispatch]\n  )\n\n  const undo = useCallback(() => {\n    console.log(\"Undoing last action 2\")\n    dispatch({ type: \"undo\" })\n  }, [dispatch])\n\n  const redo = useCallback(() => {\n    console.log(\"Redoing last action 3\")\n    dispatch({ type: \"redo\" })\n  }, [dispatch])\n\n  const forceStreamlitUpdate = useCallback(\n    () => dispatch({ type: \"forceSendToStreamlit\" }),\n    [dispatch]\n  )\n\n  const resetState = useCallback(\n    (state) => {\n      console.log(\"Resetting state 4\")\n      dispatch({ type: \"reset\", state })\n    },\n    [dispatch]\n  )\n\n  const canUndo = canvasState.history.undoStack.length > 0\n  const canRedo = canvasState.history.redoStack.length > 0\n\n  return (\n    <CanvasStateContext.Provider\n      value={{\n        canvasState,\n        saveState,\n        undo,\n        redo,\n        canUndo,\n        canRedo,\n        forceStreamlitUpdate,\n        resetState,\n      }}\n    >\n      {children}\n    </CanvasStateContext.Provider>\n  )\n}\n\n/**\n * Hook to get data out of context\n */\nexport const useCanvasState = () => {\n  return useContext(CanvasStateContext)\n}\n","import { fabric } from \"fabric\"\n\nexport interface ConfigureCanvasProps {\n  fillColor: string\n  strokeWidth: number\n  strokeColor: string\n  displayRadius: number\n  scaleFactors: number[] // Add scaleFactors here\n  canvasHeight: number // Add this line\n  canvasWidth: number // Add this line\n}\n\n/**\n * Base class for any fabric tool that configures and draws on canvas\n */\nabstract class FabricTool {\n  protected _canvas: fabric.Canvas\n  /**\n   * Pass Fabric canvas by reference so tools can configure it\n   */\n  constructor(canvas: fabric.Canvas) {\n    this._canvas = canvas\n  }\n\n  /**\n   * Configure canvas and return a callback to clean eventListeners\n   * @param args\n   */\n  abstract configureCanvas(args: ConfigureCanvasProps): () => void\n}\n\nexport default FabricTool\n","//SingleArrowHeadTool\nimport { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass SingleArrowHeadTool extends FabricTool {\n  isMouseDown: boolean = false\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  currentLine: fabric.Line = new fabric.Line()\n  startCircle: fabric.Circle = new fabric.Circle()\n  singlearrow: fabric.Group = new fabric.Group()\n  //startTriangle: fabric.Triangle = new fabric.Triangle()\n  endTriangle: fabric.Triangle = new fabric.Triangle()\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    this.isMouseDown = true\n    var pointer = canvas.getPointer(o.e)\n    var points = [pointer.x, pointer.y, pointer.x, pointer.y]\n    this.currentLine = new fabric.Line(points, {\n      strokeWidth: this.strokeWidth,\n      fill: this.strokeColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n\n    if (_clicked === 0) {\n      //canvas.add(this.currentLine)\n      canvas.add(this.singlearrow)\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    var pointer = canvas.getPointer(o.e)\n    this.currentLine.set({ x2: pointer.x, y2: pointer.y }) //takes the first point's coordinates from mouse down event\n    //this.currentLine.setCoords()\n\n    ////// Remove the previous group if it exists\n    if (this.singlearrow) {\n      canvas.remove(this.singlearrow)\n    }\n\n    // Initialize variables\n    let yy2: any = 0 // Initialization\n    let yy1: any = 0 // Initialization\n    let xx2: any = 0 // Initialization\n    let xx1: any = 0 // Initialization\n\n    yy2 = this.currentLine.y2\n    yy1 = this.currentLine.y1\n    xx2 = this.currentLine.x2\n    xx1 = this.currentLine.x1\n\n    var angle = Math.atan2(\n      // this.currentLine?.y2 - this.currentLine?.y1,\n      // this.currentLine?.x2 - this.currentLine?.x1\n      yy2 - yy1,\n      xx2 - xx1\n    )\n\n    // Create a triangle at the end of the line\n    this.endTriangle = new fabric.Triangle({\n      left: pointer.x,\n      top: pointer.y,\n      originX: \"center\",\n      originY: \"center\",\n      strokeWidth: this.strokeWidth,\n      stroke: this.strokeColor,\n      fill: this.strokeColor,\n      selectable: false,\n      evented: false,\n      width: this.strokeWidth * 5,\n      height: this.strokeWidth * 5,\n      angle: angle * (180 / Math.PI) + 90, // Convert the angle to degrees and add 90 to align with the line\n    })\n\n    this.singlearrow = new fabric.Group(\n      [\n        this.currentLine, //this.startTriangle,\n        this.endTriangle,\n      ],\n      {\n        selectable: false,\n        evented: false,\n      }\n    )\n    // Add custom property to identify the tool\n    this.singlearrow.toObject = (function (toObject) {\n      return function (this: fabric.Object) {\n        return fabric.util.object.extend(toObject.call(this), {\n          toolType: \"SingleArrowHeadTool\",\n        })\n      }\n    })(this.singlearrow.toObject)\n    canvas.add(this.singlearrow)\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = false\n    let canvas = this._canvas\n    var updatedgroup = this.singlearrow\n    canvas.remove(this.singlearrow)\n    canvas.add(updatedgroup)\n    canvas.renderAll()\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n}\n\nexport default SingleArrowHeadTool\n","//SingleArrowHeadTool\nimport { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass DoubleArrowHeadTool extends FabricTool {\n  isMouseDown: boolean = false\n  strokeWidth: number = 10\n  // yy2: number = 0\n  // yy1: number = 0\n  // xx2: number = 0\n  // xx1: number = 0\n  strokeColor: string = \"#ffffff\"\n  currentLine: fabric.Line = new fabric.Line()\n  startCircle: fabric.Circle = new fabric.Circle()\n  doublearrow: fabric.Group = new fabric.Group()\n  startTriangle: fabric.Triangle = new fabric.Triangle()\n  endTriangle: fabric.Triangle = new fabric.Triangle()\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    this.isMouseDown = true\n    var pointer = canvas.getPointer(o.e)\n    var points = [pointer.x, pointer.y, pointer.x, pointer.y]\n    this.currentLine = new fabric.Line(points, {\n      strokeWidth: this.strokeWidth,\n      fill: this.strokeColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n\n    if (_clicked === 0) {\n      //canvas.add(this.currentLine)\n      canvas.add(this.doublearrow)\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    var pointer = canvas.getPointer(o.e)\n    this.currentLine.set({ x2: pointer.x, y2: pointer.y }) //takes the first point's coordinates from mouse down event\n    this.currentLine.setCoords()\n\n    ////// Remove the previous group if it exists\n    if (this.doublearrow) {\n      canvas.remove(this.doublearrow)\n    }\n\n    // Initialize variables\n    let yy2: any = 0 // Initialization\n    let yy1: any = 0 // Initialization\n    let xx2: any = 0 // Initialization\n    let xx1: any = 0 // Initialization\n\n    yy2 = this.currentLine.y2\n    yy1 = this.currentLine.y1\n    xx2 = this.currentLine.x2\n    xx1 = this.currentLine.x1\n\n    var angle = Math.atan2(yy2 - yy1, xx2 - xx1)\n\n    // Create a triangle at the end of the line\n    this.endTriangle = new fabric.Triangle({\n      left: pointer.x,\n      top: pointer.y,\n      originX: \"center\",\n      originY: \"center\",\n      strokeWidth: this.strokeWidth,\n      stroke: this.strokeColor,\n      fill: this.strokeColor,\n      selectable: false,\n      evented: false,\n      width: this.strokeWidth * 5,\n      height: this.strokeWidth * 5,\n      angle: angle * (180 / Math.PI) + 90, // Convert the angle to degrees and add 90 to align with the line\n    })\n\n    // Create a triangle at the start of the line\n    this.startTriangle = new fabric.Triangle({\n      left: this.currentLine.x1, //+ this.currentLine.left,\n      top: this.currentLine.y1, //+ this.currentLine.top,\n      originX: \"center\",\n      originY: \"center\",\n      strokeWidth: this.strokeWidth,\n      stroke: this.strokeColor,\n      fill: this.strokeColor,\n      selectable: false,\n      evented: false,\n      width: this.strokeWidth * 5,\n      height: this.strokeWidth * 5,\n      angle: angle * (180 / Math.PI) - 90, // Convert the angle to degrees and subtract 90 to align with the line\n    })\n\n    // Create a group and add the line and the triangles to it\n    this.doublearrow = new fabric.Group(\n      [this.currentLine, this.startTriangle, this.endTriangle],\n      {\n        selectable: false,\n        evented: false,\n      }\n    )\n\n    canvas.add(this.doublearrow)\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = false\n    let canvas = this._canvas\n    // if (this.currentLine.width === 0 && this.currentLine.height === 0) {\n    //   canvas.remove(this.currentLine)\n    // }\n    //canvas.remove(this.currentLine)\n    var updatedgroup = this.doublearrow\n    canvas.remove(this.doublearrow)\n    canvas.add(updatedgroup)\n    canvas.renderAll()\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n}\n\nexport default DoubleArrowHeadTool\n","// this file was delated to remove the circle drawing tool\nimport { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass CircleTool extends FabricTool {\n  isMouseDown: boolean = false\n  fillColor: string = \"#ffffff\"\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  currentCircle: fabric.Circle = new fabric.Circle()\n  currentStartX: number = 0\n  currentStartY: number = 0\n  _minRadius: number = 10\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n    fillColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n    this.fillColor = fillColor\n    this._minRadius = strokeWidth\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    this.isMouseDown = true\n    let pointer = canvas.getPointer(o.e)\n    this.currentStartX = pointer.x\n    this.currentStartY = pointer.y\n    this.currentCircle = new fabric.Circle({\n      left: this.currentStartX,\n      top: this.currentStartY,\n      originX: \"left\",\n      originY: \"center\",\n      strokeWidth: this.strokeWidth,\n      stroke: this.strokeColor,\n      fill: this.fillColor,\n      selectable: false,\n      evented: false,\n      radius: this._minRadius,\n    })\n    if (_clicked === 0) {\n      canvas.add(this.currentCircle)\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    let pointer = canvas.getPointer(o.e)\n    let _radius =\n      this.linearDistance(\n        { x: this.currentStartX, y: this.currentStartY },\n        { x: pointer.x, y: pointer.y }\n      ) / 2\n    this.currentCircle.set({\n      radius: Math.max(_radius, this._minRadius),\n      angle:\n        (Math.atan2(\n          pointer.y - this.currentStartY,\n          pointer.x - this.currentStartX\n        ) *\n          180) /\n        Math.PI,\n    })\n    this.currentCircle.setCoords()\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = false\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n\n  /**\n   * Calculate the distance of two x,y points\n   *\n   * @param point1 an object with x,y attributes representing the start point\n   * @param point2 an object with x,y attributes representing the end point\n   *\n   * @returns {number}\n   */\n  linearDistance = (point1: any, point2: any) => {\n    let xs = point2.x - point1.x\n    let ys = point2.y - point1.y\n    return Math.sqrt(xs * xs + ys * ys)\n  }\n}\n\nexport default CircleTool\n","import { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass CoordinateTool extends FabricTool {\n  isMouseDown: boolean = false\n  strokeColor: string = \"#ffffff\"\n  strokeWidth: number = 10\n  horizontalLine: fabric.Line | null = null\n  verticalLine: fabric.Line | null = null\n  coordinateCircle: fabric.Circle | null = null\n  //coordinatesText: fabric.Text | null = null\n  coordinatesTextX: fabric.Text | null = null\n  coordinatesTextY: fabric.Text | null = null\n  tempHorizontalLine: fabric.Line | null = null\n  tempVerticalLine: fabric.Line | null = null\n  tempCoordinateCircle: fabric.Circle | null = null\n  tempCoordinatesText: fabric.Text | null = null\n  coordinates_group: fabric.Group = new fabric.Group()\n  tempCoordinates_group: fabric.Group = new fabric.Group()\n  scaleFactors: number[] = [1, 1, 1, 1, 1, 1] // Define scaleFactors as an array; this are initializers; the real ones are set in the frontend .py script\n  canvasWidth: number = 1 // Define canvasHeight as a number\n  canvasHeight: number = 1\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n    scaleFactors,\n    canvasHeight,\n    canvasWidth, // Ensure canvasHeight is destructured\n  }: ConfigureCanvasProps): () => void {\n    this.scaleFactors = scaleFactors // Assign scaleFactors to this.scaleFactors\n    this.canvasHeight = canvasHeight // Assign canvasHeight to this.canvasHeight\n    this.canvasWidth = canvasWidth\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", () => this.onMouseOut())\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n      this.clearTemporaryObjects()\n    }\n  }\n\n  onMouseDown(o: any) {\n    if (o.e.button === 0) {\n      this.isMouseDown = true\n      let canvas = this._canvas\n      let pointer = canvas.getPointer(o.e)\n      //this.updateLinesAndCircle(pointer.x, pointer.y)\n      this.drawLinesAndCoordinates(pointer.x, pointer.y)\n    }\n  }\n\n  onMouseMove(o: any) {\n    let canvas = this._canvas\n    let pointer = canvas.getPointer(o.e)\n    if (!this.isMouseDown) {\n      this.drawTemporaryLinesAndCoordinates(pointer.x, pointer.y)\n    }\n  }\n\n  onMouseUp(o: any) {\n    if (o.e.button === 0) {\n      this.isMouseDown = false\n      //let canvas = this._canvas\n      //let pointer = canvas.getPointer(o.e)\n      this.clearTemporaryObjects()\n      //this.drawLinesAndCoordinates(pointer.x, pointer.y)\n    }\n  }\n\n  onMouseOut() {\n    this.clearTemporaryObjects()\n  }\n\n  drawLinesAndCoordinates(x: number, y: number) {\n    let canvas = this._canvas\n    let strokeWidth = this.strokeWidth\n    let strokeColor = \"rgba(99, 99, 156, .75)\"\n    let canvasHeight = this.canvasHeight\n    let canvasWidth = this.canvasWidth\n\n    this.horizontalLine = new fabric.Line([this.scaleFactors[3], y, x, y], {\n      stroke: strokeColor,\n      strokeWidth: strokeWidth,\n      selectable: false,\n      evented: false,\n      strokeDashArray: [10, 5],\n    })\n\n    this.verticalLine = new fabric.Line([x, y, x, 0.85 * canvasHeight], {\n      stroke: strokeColor,\n      strokeWidth: strokeWidth,\n      selectable: false,\n      evented: false,\n      strokeDashArray: [10, 5],\n    })\n\n    this.coordinateCircle = new fabric.Circle({\n      left: x,\n      top: y,\n      radius: 5,\n      fill: strokeColor,\n      selectable: false,\n      evented: false,\n      originX: \"center\",\n      originY: \"center\",\n    })\n    // converted coordinates\n    // scaleFactors = [xmax, ymax, bottom_margin, left_margin, top_margin, right_margin]\n    let xx =\n      ((x - this.scaleFactors[3]) /\n        (canvasWidth - this.scaleFactors[3] - this.scaleFactors[5])) *\n      this.scaleFactors[0]\n    let yy =\n      this.scaleFactors[1] -\n      ((y - this.scaleFactors[4]) /\n        (canvasHeight - this.scaleFactors[4] - this.scaleFactors[2])) *\n        this.scaleFactors[1]\n\n    this.coordinatesTextX = new fabric.Text(\n      `${xx.toFixed(0)}`,\n\n      {\n        left: x + 0.01 * canvasWidth, //x + 10,\n        top: 0.8 * canvasHeight, //y + 10,\n        fill: strokeColor,\n        fontSize: 14,\n        selectable: false,\n        evented: false,\n      }\n    )\n\n    this.coordinatesTextY = new fabric.Text(\n      `${yy.toFixed(0)}`,\n\n      {\n        left: 0.13 * canvasWidth, //x + 10,\n        top: y - 0.035 * canvasHeight, //y + 10,\n        fill: strokeColor,\n        fontSize: 14,\n        selectable: false,\n        evented: false,\n      }\n    )\n\n    this.coordinates_group = new fabric.Group(\n      [\n        this.horizontalLine,\n        this.verticalLine,\n        this.coordinateCircle,\n        this.coordinatesTextX,\n        this.coordinatesTextY,\n      ],\n      {\n        selectable: false,\n        evented: false,\n      }\n    )\n\n    canvas.add(this.coordinates_group)\n    canvas.renderAll()\n  }\n\n  drawTemporaryLinesAndCoordinates(x: number, y: number) {\n    let canvas = this._canvas\n    let strokeWidth = this.strokeWidth\n    let strokeColor = \"rgba(51, 0, 20, 0.5)\"\n    let canvasHeight = this.canvasHeight\n    let canvasWidth = this.canvasWidth\n    this.clearTemporaryObjects()\n\n    this.tempHorizontalLine = new fabric.Line([0.12 * canvasWidth, y, x, y], {\n      //0 is the default value for the x1 coordinate\n      stroke: strokeColor,\n      strokeWidth: strokeWidth,\n      selectable: false,\n      evented: false,\n      strokeDashArray: [10, 5],\n    })\n\n    this.tempVerticalLine = new fabric.Line([x, y, x, 0.85 * canvasHeight], {\n      stroke: strokeColor,\n      strokeWidth: strokeWidth,\n      selectable: false,\n      evented: false,\n      strokeDashArray: [10, 5],\n    })\n\n    this.tempCoordinateCircle = new fabric.Circle({\n      left: x,\n      top: y,\n      radius: 5,\n      fill: strokeColor,\n      selectable: false,\n      evented: false,\n      originX: \"center\",\n      originY: \"center\",\n    })\n\n    let xx =\n      ((x - this.scaleFactors[3]) /\n        (canvasWidth - this.scaleFactors[3] - this.scaleFactors[5])) *\n      this.scaleFactors[0]\n    let yy =\n      this.scaleFactors[1] -\n      ((y - this.scaleFactors[4]) /\n        (canvasHeight - this.scaleFactors[4] - this.scaleFactors[2])) *\n        this.scaleFactors[1]\n    this.tempCoordinatesText = new fabric.Text(\n      `(${xx.toFixed(0)}, ${yy.toFixed(0)})`,\n      //`(${x.toFixed(0)}, ${y.toFixed(0)})`,\n      {\n        left: x + 10,\n        top: y + 10,\n        fill: strokeColor,\n        fontSize: 14,\n        selectable: false,\n        evented: false,\n      }\n    )\n\n    this.tempCoordinates_group = new fabric.Group(\n      [\n        this.tempHorizontalLine,\n        this.tempVerticalLine,\n        this.tempCoordinateCircle,\n        this.tempCoordinatesText,\n      ],\n      {\n        selectable: false,\n        evented: false,\n      }\n    )\n\n    canvas.add(this.tempCoordinates_group)\n    canvas.renderAll()\n  }\n\n  clearTemporaryObjects() {\n    let canvas = this._canvas\n    if (this.tempCoordinates_group) canvas.remove(this.tempCoordinates_group)\n    //this.tempCoordinates_group= null\n  }\n}\n\nexport default CoordinateTool\n","import { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\nimport * as d3 from \"d3\"\n\nclass CurveTool extends FabricTool {\n  isMouseDown: boolean = false\n  fillColor: string = \"#ffffff00\" //\"#ffffff\"\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  startCircle: fabric.Circle = new fabric.Circle()\n  curvePath: fabric.Path = new fabric.Path()\n  tempCurvePath: fabric.Path = new fabric.Path()\n  controlPoints: number[][] = []\n  points: number[][] = []\n  tempCurve: fabric.Path = new fabric.Path()\n  finalCurve: fabric.Path = new fabric.Path()\n  _pathString: string = \"M \"\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n    fillColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n    this.fillColor = fillColor\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    this._canvas.on(\"mouse:dblclick\", (e: any) => this.onMouseDoubleClick(e))\n\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n      //this._canvas.off(\"mouse:dblclick\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    let _start = false\n    if (this._pathString === \"M \") {\n      _start = true\n    }\n\n    this.isMouseDown = true\n    var pointer = canvas.getPointer(o.e)\n\n    this.points.push([pointer.x, pointer.y])\n\n    if (_start && _clicked === 0) {\n      // Initialize pathString\n      //this._pathString += `${pointer.x} ${pointer.y} `\n      this.controlPoints.push([pointer.x, pointer.y])\n      this._pathString = this.generateCurvePathData(this.controlPoints)\n      this.startCircle = new fabric.Circle({\n        left: pointer.x,\n        top: pointer.y,\n        originX: \"center\",\n        originY: \"center\",\n        strokeWidth: this.strokeWidth,\n        stroke: this.strokeColor,\n        fill: this.strokeColor,\n        selectable: false,\n        evented: false,\n        radius: this.strokeWidth,\n      })\n      canvas.add(this.startCircle)\n\n      _start = false\n    } else {\n      //canvas.remove(this.finalCurve)\n      if (_clicked === 0) {\n        //if left mouse clicked\n\n        this.controlPoints.push([pointer.x, pointer.y])\n        this._pathString = this.generateCurvePathData(this.controlPoints)\n      }\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return //means that if the mouse is not pressed, do nothing; but if it is pressed and moved, then do the commands below\n    let canvas = this._canvas\n    var pointer = canvas.getPointer(o.e)\n    this.points.push([pointer.x, pointer.y])\n    var linePath = this.generateCurvePathData(this.points)\n    canvas.remove(this.tempCurve)\n    this.tempCurve = new fabric.Path(linePath, {\n      strokeWidth: this.strokeWidth,\n      fill: \"\", //this.fillColor,\n      stroke: this.strokeColor,\n      // originX: \"center\",\n      // originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n    canvas.add(this.tempCurve)\n    //canvas.renderAll()\n    this.points.pop()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = true\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n\n  onMouseDoubleClick(o: any) {\n    let canvas = this._canvas\n    canvas.remove(this.startCircle)\n    canvas.remove(this.tempCurve)\n    //canvas.remove(this.finalCurve)\n    this.finalCurve = new fabric.Path(this._pathString, {\n      strokeWidth: this.strokeWidth,\n      fill: \"#ffffff00\", //this.fillColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n\n    if (this.finalCurve.width !== 0 && this.finalCurve.height !== 0) {\n      canvas.add(this.finalCurve)\n      //canvas.renderAll()\n    }\n\n    this._pathString = \"M \"\n    this.controlPoints = []\n    this.points = []\n  }\n\n  private generateCurvePathData(controlPoints: number[][]): string {\n    var lineGenerator = d3.line().curve(d3.curveCatmullRom.alpha(0.5))\n    //@ts-ignore\n    return lineGenerator(controlPoints)\n  }\n}\n\nexport default CurveTool\n","import FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass FreedrawTool extends FabricTool {\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = true\n    this._canvas.freeDrawingBrush.width = strokeWidth\n    this._canvas.freeDrawingBrush.color = strokeColor\n    return () => {}\n  }\n}\n\nexport default FreedrawTool\n","import { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass LineTool extends FabricTool {\n  isMouseDown: boolean = false\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  currentLine: fabric.Line = new fabric.Line()\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    this.isMouseDown = true\n    var pointer = canvas.getPointer(o.e)\n    var points = [pointer.x, pointer.y, pointer.x, pointer.y]\n    this.currentLine = new fabric.Line(points, {\n      strokeWidth: this.strokeWidth,\n      fill: this.strokeColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n    if (_clicked === 0) {\n      canvas.add(this.currentLine)\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    var pointer = canvas.getPointer(o.e)\n    this.currentLine.set({ x2: pointer.x, y2: pointer.y }) //takes the first point's coordinates from mouse:down event and then replaces the second coordinate by the new one; that is why the line updates and is dynamic before mouse:down/up again\n    this.currentLine.setCoords()\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = false\n    let canvas = this._canvas\n    if (this.currentLine.width === 0 && this.currentLine.height === 0) {\n      canvas.remove(this.currentLine)\n    }\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n}\n\nexport default LineTool\n","import { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass PointTool extends FabricTool {\n  isMouseDown: boolean = false\n  fillColor: string = \"#ffffff\"\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  currentCircle: fabric.Circle = new fabric.Circle()\n  currentStartX: number = 0\n  currentStartY: number = 0\n  displayRadius: number = 1\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n    fillColor,\n    displayRadius\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n    this.fillColor = fillColor\n    this.displayRadius = displayRadius\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    this.isMouseDown = true\n    let pointer = canvas.getPointer(o.e)\n    this.currentStartX = pointer.x - (this.displayRadius + this.strokeWidth / 2.)\n    this.currentStartY = pointer.y //- (this._minRadius + this.strokeWidth)\n    this.currentCircle = new fabric.Circle({\n      left: this.currentStartX,\n      top: this.currentStartY,\n      originX: \"left\",\n      originY: \"center\",\n      strokeWidth: this.strokeWidth,\n      stroke: this.strokeColor,\n      fill: this.fillColor,\n      selectable: false,\n      evented: false,\n      radius: this.displayRadius,\n    })\n    if (_clicked === 0) {\n      canvas.add(this.currentCircle)\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    this.currentCircle.setCoords()\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = false\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n\n}\n\nexport default PointTool\n","import { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass PolygonTool extends FabricTool {\n  isMouseDown: boolean = false\n  fillColor: string = \"#ffffff\"\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  startCircle: fabric.Circle = new fabric.Circle()\n  currentLine: fabric.Line = new fabric.Line()\n  currentPath: fabric.Path = new fabric.Path()\n  _pathString: string = \"M \"\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n    fillColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n    this.fillColor = fillColor\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    this._canvas.on(\"mouse:dblclick\", (e: any) => this.onMouseDoubleClick(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n      this._canvas.off(\"mouse:dblclick\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    let _start = false\n    if (this._pathString === \"M \") {\n      _start = true\n    }\n\n    this.isMouseDown = true\n    var pointer = canvas.getPointer(o.e)\n\n    var points = [pointer.x, pointer.y, pointer.x, pointer.y]\n    canvas.remove(this.currentLine)\n    this.currentLine = new fabric.Line(points, {\n      strokeWidth: this.strokeWidth,\n      fill: this.strokeColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n    if (_clicked === 0) {\n      canvas.add(this.currentLine)\n    }\n\n    if (_start && _clicked === 0) {\n      // Initialize pathString\n      this._pathString += `${pointer.x} ${pointer.y} `\n      this.startCircle = new fabric.Circle({\n        left: pointer.x,\n        top: pointer.y,\n        originX: \"center\",\n        originY: \"center\",\n        strokeWidth: this.strokeWidth,\n        stroke: this.strokeColor,\n        fill: this.strokeColor,\n        selectable: false,\n        evented: false,\n        radius: this.strokeWidth,\n      })\n      canvas.add(this.startCircle)\n\n      _start = false\n    } else {\n      canvas.remove(this.currentPath)\n      if (_clicked === 0) {\n        //if left mouse clicked\n        // Update pathString\n        this._pathString += `L ${pointer.x} ${pointer.y} `\n      }\n      if (_clicked === 2) {\n        //if right mouse clicked, Close pathString\n        this._pathString += \"z\"\n        canvas.remove(this.startCircle)\n      }\n    }\n    this.currentPath = new fabric.Path(this._pathString, {\n      strokeWidth: this.strokeWidth,\n      fill: this.fillColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n    if (this.currentPath.width !== 0 && this.currentPath.height !== 0) {\n      canvas.add(this.currentPath)\n    }\n    if (_clicked === 2) {\n      this._pathString = \"M \"\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    var pointer = canvas.getPointer(o.e)\n    this.currentLine.set({ x2: pointer.x, y2: pointer.y })\n    this.currentLine.setCoords()\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = true\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n\n  onMouseDoubleClick(o: any) {\n    let canvas = this._canvas\n    // Double click adds two more points at the end, so we have to move back twice more...\n    //AE: It think it is useful for doing undo on the canvas because if we try to use the undo button itself, it keeps drawing lines upto the borders of the canvas which is ugly\n    // for (let i = 0; i < 3; i++) {\n    //   let _last_pt_idx = this._pathString.lastIndexOf(\"L\")\n    //   if (_last_pt_idx === -1) {\n    //     this._pathString = \"M \"\n    //     canvas.remove(this.startCircle)\n    //   } else {\n    //     this._pathString = this._pathString.slice(0, _last_pt_idx)\n    //   }\n    // }\n\n    // canvas.remove(this.currentLine)\n    // canvas.remove(this.currentPath)\n    // this.currentPath = new fabric.Path(this._pathString, {\n    //   strokeWidth: this.strokeWidth,\n    //   fill: this.fillColor,\n    //   stroke: this.strokeColor,\n    //   originX: \"center\",\n    //   originY: \"center\",\n    //   selectable: false,\n    //   evented: false,\n    // })\n    // canvas.add(this.currentPath)\n    this._pathString += \"z\"\n    canvas.remove(this.startCircle)\n    canvas.remove(this.currentPath)\n    this.currentPath = new fabric.Path(this._pathString, {\n      strokeWidth: this.strokeWidth,\n      fill: this.fillColor,\n      stroke: this.strokeColor,\n      originX: \"center\",\n      originY: \"center\",\n      selectable: false,\n      evented: false,\n    })\n    canvas.add(this.currentPath)\n    this._pathString = \"M \"\n    this.isMouseDown = false\n  }\n}\nexport default PolygonTool\n","import { fabric } from \"fabric\"\nimport FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass RectTool extends FabricTool {\n  isMouseDown: boolean = false\n  fillColor: string = \"#ffffff\"\n  strokeWidth: number = 10\n  strokeColor: string = \"#ffffff\"\n  currentRect: fabric.Rect = new fabric.Rect()\n  currentStartX: number = 0\n  currentStartY: number = 0\n  _minLength: number = 10\n\n  configureCanvas({\n    strokeWidth,\n    strokeColor,\n    fillColor,\n  }: ConfigureCanvasProps): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n\n    this.strokeWidth = strokeWidth\n    this.strokeColor = strokeColor\n    this.fillColor = fillColor\n    this._minLength = strokeWidth\n\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    this._canvas.on(\"mouse:move\", (e: any) => this.onMouseMove(e))\n    this._canvas.on(\"mouse:up\", (e: any) => this.onMouseUp(e))\n    this._canvas.on(\"mouse:out\", (e: any) => this.onMouseOut(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n      this._canvas.off(\"mouse:move\")\n      this._canvas.off(\"mouse:up\")\n      this._canvas.off(\"mouse:out\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    this.isMouseDown = true\n    let pointer = canvas.getPointer(o.e)\n    this.currentStartX = pointer.x\n    this.currentStartY = pointer.y\n    this.currentRect = new fabric.Rect({\n      left: this.currentStartX,\n      top: this.currentStartY,\n      originX: \"left\",\n      originY: \"top\",\n      width: this._minLength,\n      height: this._minLength,\n      stroke: this.strokeColor,\n      strokeWidth: this.strokeWidth,\n      fill: this.fillColor,\n      transparentCorners: false,\n      selectable: false,\n      evented: false,\n      strokeUniform: true,\n      noScaleCache: false,\n      angle: 0,\n    })\n    if (_clicked === 0) {\n      canvas.add(this.currentRect)\n    }\n  }\n\n  onMouseMove(o: any) {\n    if (!this.isMouseDown) return\n    let canvas = this._canvas\n    let pointer = canvas.getPointer(o.e)\n    if (this.currentStartX > pointer.x) {\n      this.currentRect.set({ left: Math.abs(pointer.x) })\n    }\n    if (this.currentStartY > pointer.y) {\n      this.currentRect.set({ top: Math.abs(pointer.y) })\n    }\n    let _width = Math.abs(this.currentStartX - pointer.x)\n    let _height = Math.abs(this.currentStartY - pointer.y)\n    this.currentRect.set({\n      width: Math.max(_width, this._minLength * 2),\n      height: Math.max(_height, this._minLength * 2),\n    })\n    this.currentRect.setCoords()\n    canvas.renderAll()\n  }\n\n  onMouseUp(o: any) {\n    this.isMouseDown = false\n  }\n\n  onMouseOut(o: any) {\n    this.isMouseDown = false\n  }\n}\n\nexport default RectTool\n","import { fabric } from \"fabric\"\nimport FabricTool from \"./fabrictool\"\n\nclass TextTool extends FabricTool {\n  configureCanvas(): () => void {\n    this._canvas.isDrawingMode = false\n    this._canvas.selection = false\n    this._canvas.forEachObject((o) => (o.selectable = o.evented = false))\n    this._canvas.on(\"mouse:down\", (e: any) => this.onMouseDown(e))\n    return () => {\n      this._canvas.off(\"mouse:down\")\n    }\n  }\n\n  onMouseDown(o: any) {\n    let canvas = this._canvas\n    let _clicked = o.e[\"button\"]\n    var pointer = canvas.getPointer(o.e)\n    if (_clicked === 0) {\n      let text = new fabric.IText(\"\", {\n        left: pointer.x,\n        top: pointer.y,\n        fontSize: 25,\n        selectable: true,\n        evented: true,\n      })\n      canvas.add(text)\n      canvas.setActiveObject(text)\n      text.enterEditing()\n      if (text.hiddenTextarea) {\n        text.hiddenTextarea.focus()\n      }\n    }\n  }\n}\n\nexport default TextTool\n","import FabricTool from \"./fabrictool\"\nimport SingleArrowHeadTool from \"./singlearrowhead\"\nimport DoubleArrowHeadTool from \"./doublearrowhead\"\nimport CircleTool from \"./circle\"\nimport CoordinateTool from \"./coordinate\"\nimport CurveTool from \"./curve\"\nimport FreedrawTool from \"./freedraw\"\nimport LineTool from \"./line\"\nimport PointTool from \"./point\"\nimport PolygonTool from \"./polygon\"\nimport RectTool from \"./rect\"\nimport TextTool from \"./text\"\nimport TransformTool from \"./transform\"\n\n// TODO: Should make TS happy on the Map of selectedTool --> FabricTool\nconst tools: any = {\n  circle: CircleTool,\n  curve: CurveTool,\n  coordinate: CoordinateTool,\n  text: TextTool,\n  freedraw: FreedrawTool,\n  line: LineTool,\n  polygon: PolygonTool,\n  rect: RectTool,\n  singlearrowhead: SingleArrowHeadTool,\n  doublearrowhead: DoubleArrowHeadTool,\n  transform: TransformTool,\n  point: PointTool,\n}\n\nexport { tools, FabricTool }\n","import FabricTool, { ConfigureCanvasProps } from \"./fabrictool\"\n\nclass TransformTool extends FabricTool {\n  configureCanvas(args: ConfigureCanvasProps): () => void {\n    let canvas = this._canvas\n    canvas.isDrawingMode = false\n    canvas.selection = true\n    canvas.forEachObject((o) => (o.selectable = o.evented = true))\n\n    // instead of looking for target of double click,\n    // assume double click on object clears the selected object\n    const handleDoubleClick = () => {\n      canvas.remove(canvas.getActiveObject())\n    }\n\n    canvas.on(\"mouse:dblclick\", handleDoubleClick)\n    return () => {\n      canvas.off(\"mouse:dblclick\", handleDoubleClick)\n    }\n  }\n}\n\nexport default TransformTool\n","//DrawableCanvas.tsx\nimport React, { useEffect, useState } from \"react\"\nimport { fabric } from \"fabric\"\nimport { isEqual } from \"lodash\"\n\nimport CanvasToolbar from \"./CanvasToolbar\"\nimport { useCanvasState } from \"./DrawableCanvasState\"\nimport { tools, FabricTool } from \"./lib\"\nimport { rect2 } from \"./constants\"\n\n// Initialize the rectangle with canvas dimensions\nlet rect2c\n\n// Define the ComponentArgs interface\n\nexport interface ComponentArgs {\n  id: string\n  fillColor: string\n  strokeWidth: number\n  strokeColor: string\n  backgroundColor: string\n  backgroundImageURL: string\n  canvasWidth: number\n  canvasHeight: number\n  drawingMode: string\n  initialDrawing: Object\n  displayToolbar: boolean\n  displayRadius: number\n  scaleFactors: number[]\n}\nconst DrawableCanvas = ({\n  id,\n  fillColor,\n  strokeWidth,\n  strokeColor,\n  backgroundColor,\n  backgroundImageURL,\n  canvasWidth,\n  canvasHeight,\n  drawingMode,\n  initialDrawing,\n  displayToolbar,\n  displayRadius,\n  scaleFactors,\n}: ComponentArgs) => {\n  const [canvas, setCanvas] = useState<fabric.Canvas | null>(null)\n  const [backgroundCanvas, setBackgroundCanvas] =\n    useState<fabric.StaticCanvas | null>(null)\n  const {\n    canvasState: {\n      action: { shouldReloadCanvas },\n      currentState,\n      initialState,\n    },\n    saveState,\n    undo,\n    redo,\n    canUndo,\n    canRedo,\n    resetState,\n  } = useCanvasState()\n\n  useEffect(() => {\n    const c = new fabric.Canvas(`canvas-${id}`, {\n      enableRetinaScaling: false,\n    })\n    const imgC = new fabric.StaticCanvas(`backgroundimage-canvas-${id}`, {\n      enableRetinaScaling: false,\n    })\n    setCanvas(c)\n    setBackgroundCanvas(imgC)\n\n    // Disable context menu on right-click\n    const canvasElement = document.getElementById(`canvas-${id}`)\n    if (canvasElement) {\n      canvasElement.addEventListener(\"contextmenu\", (e) => {\n        e.preventDefault()\n      })\n    }\n\n    return () => {\n      if (canvasElement) {\n        canvasElement.removeEventListener(\"contextmenu\", (e) => {\n          e.preventDefault()\n        })\n      }\n    }\n  }, [id])\n\n  useEffect(() => {\n    if (canvas && !isEqual(initialState, initialDrawing)) {\n      canvas.loadFromJSON(initialDrawing, () => {\n        canvas?.renderAll()\n        resetState(initialDrawing)\n      })\n    }\n  }, [canvas, initialDrawing, initialState, resetState])\n\n  useEffect(() => {\n    if (backgroundCanvas && backgroundImageURL) {\n      const bgImage = new Image()\n      bgImage.onload = function () {\n        backgroundCanvas.getContext().drawImage(bgImage, 0, 0)\n      }\n      bgImage.src = backgroundImageURL\n    }\n\n    if (backgroundCanvas) {\n      rect2c = rect2(canvasWidth, canvasHeight)\n      backgroundCanvas.add(rect2c)\n      backgroundCanvas.renderAll()\n    }\n  }, [\n    backgroundCanvas,\n    canvasHeight,\n    canvasWidth,\n    backgroundColor,\n    backgroundImageURL,\n    saveState,\n  ])\n\n  useEffect(() => {\n    if (canvas && shouldReloadCanvas) {\n      canvas.loadFromJSON(currentState, () => {\n        canvas.renderAll()\n      })\n    }\n  }, [canvas, shouldReloadCanvas, currentState])\n\n  useEffect(() => {\n    if (canvas) {\n      const selectedTool = new tools[drawingMode](canvas) as FabricTool\n      const cleanupToolEvents = selectedTool.configureCanvas({\n        fillColor: fillColor,\n        strokeWidth: strokeWidth,\n        strokeColor: strokeColor,\n        displayRadius: displayRadius,\n        scaleFactors: scaleFactors,\n        canvasHeight: canvasHeight,\n        canvasWidth: canvasWidth,\n      })\n\n      const handleMouseUp = () => {\n        saveState(canvas.toJSON())\n      }\n\n      canvas.on(\"mouse:up\", handleMouseUp)\n      canvas.on(\"mouse:dblclick\", handleMouseUp)\n\n      return () => {\n        cleanupToolEvents()\n        canvas.off(\"mouse:up\", handleMouseUp)\n        canvas.off(\"mouse:dblclick\", handleMouseUp)\n      }\n    }\n  }, [\n    canvas,\n    strokeWidth,\n    strokeColor,\n    displayRadius,\n    fillColor,\n    drawingMode,\n    initialDrawing,\n    scaleFactors,\n    canvasHeight,\n    canvasWidth,\n    saveState,\n  ])\n\n  const downloadCallback = () => {\n    if (canvas && backgroundCanvas) {\n      // Create a temporary canvas element\n      const tempCanvas = document.createElement(\"canvas\")\n      tempCanvas.width = canvasWidth\n      tempCanvas.height = canvasHeight\n      const tempContext = tempCanvas.getContext(\"2d\")\n\n      if (tempContext) {\n        // Draw the background canvas onto the temporary canvas\n        tempContext.drawImage(backgroundCanvas.getElement(), 0, 0)\n\n        // Draw the main canvas onto the temporary canvas\n        tempContext.drawImage(canvas.getElement(), 0, 0)\n\n        // Generate the data URL from the temporary canvas\n        const dataURL = tempCanvas.toDataURL(\"image/png\")\n\n        // Create a link element and trigger the download\n        const link = document.createElement(\"a\")\n        link.href = dataURL\n        link.download = \"canvas.png\"\n        link.click()\n      }\n    }\n  }\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          zIndex: 0,\n        }}\n      >\n        <canvas\n          id={`backgroundimage-canvas-${id}`}\n          width={canvasWidth}\n          height={canvasHeight}\n        />\n      </div>\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          zIndex: 10,\n          backgroundColor: \"rgba(255, 0, 0, 0.1)\", // Add this line\n        }}\n      >\n        <canvas\n          id={`canvas-${id}`}\n          width={canvasWidth}\n          height={canvasHeight}\n          style={{ border: \"lightgrey 1px solid\" }}\n        />\n        {displayToolbar && (\n          <CanvasToolbar\n            topPosition={0}\n            leftPosition={canvasWidth}\n            downloadCallback={downloadCallback}\n            canUndo={canUndo}\n            canRedo={canRedo}\n            undoCallback={undo}\n            redoCallback={redo}\n            resetCallback={() => {\n              resetState(initialState)\n            }}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default DrawableCanvas\n","import { fabric } from \"fabric\"\r\n\r\n// Export a function to create the rectangle\r\nexport const rect2 = (canvasWidth, canvasHeight) => {\r\n  return new fabric.Rect({\r\n    left: 75,\r\n    top: 25,\r\n    fill: \"white\",\r\n    width: canvasWidth - 100,\r\n    height: canvasHeight - 100,\r\n    stroke: \"black\",\r\n    strokeWidth: 1,\r\n    selectable: false,\r\n    evented: false,\r\n    lockMovementX: true,\r\n    lockMovementY: true,\r\n    lockRotation: true,\r\n    lockScalingX: true,\r\n    lockScalingY: true,\r\n    hasControls: false,\r\n  })\r\n}\r\n","// DrawingModeSelector.tsx\r\n\"use client\"\r\nimport React from \"react\"\r\nimport {\r\n  // Scale3d,\r\n  // Minus,\r\n  Dot,\r\n  //Hexagon,\r\n  // RectangleHorizontal,\r\n  // Circle,\r\n  // Pencil,\r\n  //Spline,\r\n  MoveUpRight,\r\n  //MoveDiagonal,\r\n  Type,\r\n  MousePointer2,\r\n} from \"lucide-react\"\r\n\r\ninterface DrawingModeSelectorProps {\r\n  drawingMode: string\r\n  setDrawingMode: (mode: string) => void\r\n}\r\n\r\nconst DrawingModeSelector: React.FC<DrawingModeSelectorProps> = ({\r\n  drawingMode,\r\n  setDrawingMode,\r\n}) => {\r\n  const modes = [\r\n    {\r\n      mode: \"line\",\r\n      icon: process.env.PUBLIC_URL + \"/line.png\",\r\n      description: \"Draw a line\",\r\n    },\r\n    {\r\n      mode: \"singlearrowhead\",\r\n      icon: MoveUpRight,\r\n      description: \"Draw a single arrowhead\",\r\n    },\r\n    // {\r\n    //   mode: \"doublearrowhead\",\r\n    //   icon: MoveDiagonal,\r\n    //   description: \"Draw a double arrowhead\",\r\n    // },\r\n    { mode: \"point\", icon: Dot, description: \"Draw a point\" },\r\n    // { mode: \"polygon\", icon: Hexagon, description: \"Draw a polygon\" },\r\n    // {\r\n    //   mode: \"rect\",\r\n    //   icon: RectangleHorizontal,\r\n    //   description: \"Draw a rectangle\",\r\n    // },\r\n    // { mode: \"circle\", icon: Circle, description: \"Draw a circle\" },\r\n    // { mode: \"freedraw\", icon: Pencil, description: \"Free draw\" },\r\n    // {\r\n    //   mode: \"coordinate\",\r\n    //   icon: process.env.PUBLIC_URL + \"/coordicon.png\",\r\n    //   description: \"Draw coordinates\",\r\n    // },\r\n    // { mode: \"curve\", icon: Spline, description: \"Draw a curve\" },\r\n\r\n    { mode: \"text\", icon: Type, description: \"Add text\" },\r\n    {\r\n      mode: \"transform\",\r\n      icon: MousePointer2,\r\n      description: \"Select & move shapes\",\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", gap: \"1px\", flexWrap: \"wrap\" }}>\r\n        {modes.map(({ mode, icon: Icon, description }) => (\r\n          <button\r\n            key={mode}\r\n            type=\"button\"\r\n            onClick={() => setDrawingMode(mode)}\r\n            title={description}\r\n            style={{\r\n              backgroundColor:\r\n                drawingMode === mode ? \"rgb(187, 182, 182)\" : \"white\",\r\n              border: \"0px solid black\",\r\n              margin: \"0px\",\r\n              padding: \"5px\",\r\n              cursor: \"pointer\",\r\n              width: \"30px\",\r\n              height: \"30px\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              borderRadius: \"20%\",\r\n            }}\r\n          >\r\n            {typeof Icon === \"string\" ? (\r\n              <img\r\n                src={Icon}\r\n                alt={mode}\r\n                style={{ width: \"24px\", height: \"24px\" }}\r\n              />\r\n            ) : (\r\n              <Icon style={{ width: \"24px\", height: \"24px\" }} />\r\n            )}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DrawingModeSelector\r\n","// DrawingApp.tsx\r\n\"use client\"\r\nimport React, { useState } from \"react\"\r\nimport DrawableCanvas, { ComponentArgs } from \"./DrawableCanvas\"\r\nimport DrawingModeSelector from \"./DrawingModeSelector\"\r\nimport { CanvasStateProvider } from \"./DrawableCanvasState\"\r\n//import initialDrawing from \"./initialDrawing2.json\"\r\n\r\ninterface DrawingAppProps {\r\n  id: string\r\n}\r\n\r\nfunction DrawingApp({ id }: DrawingAppProps) {\r\n  const [drawingMode, setDrawingMode] = useState(\"line\")\r\n  const [strokeColor, setStrokeColor] = useState(\"black\")\r\n  const [strokeWidth, setStrokeWidth] = useState(2)\r\n\r\n  const canvasWidth = 600 //700 //\r\n  const canvasHeight = 400 //500 //\r\n  const xlim = 100 // absolute in pixels\r\n  const ylim = 100 // absolute in pixels\r\n  const bottom_margin = 75 // absolute in pixels\r\n  const left_margin = 84\r\n  const top_margin = 25\r\n  const right_margin = 35\r\n  const scaleFactors = [\r\n    xlim,\r\n    ylim,\r\n    bottom_margin,\r\n    left_margin,\r\n    top_margin,\r\n    right_margin,\r\n  ]\r\n\r\n  const canvasProps: ComponentArgs = {\r\n    id: id,\r\n    fillColor: strokeColor, //\"transparent\", //\r\n    strokeWidth: strokeWidth,\r\n    strokeColor: strokeColor, //\"black\", //\r\n    backgroundColor: \"blue\",\r\n    backgroundImageURL: \"\",\r\n    canvasWidth: canvasWidth,\r\n    canvasHeight: canvasHeight,\r\n    drawingMode: drawingMode,\r\n    initialDrawing: [{}], //initialDrawing, //\r\n    displayToolbar: true,\r\n    displayRadius: 3,\r\n    scaleFactors: scaleFactors,\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <CanvasStateProvider>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            <DrawingModeSelector\r\n              drawingMode={drawingMode}\r\n              setDrawingMode={setDrawingMode}\r\n            />\r\n            <div style={{ marginLeft: \"10px\" }}>\r\n              <label htmlFor=\"strokeColor\">Stroke Color: </label>\r\n              <input\r\n                type=\"color\"\r\n                id=\"strokeColor\"\r\n                value={strokeColor}\r\n                onChange={(e) => setStrokeColor(e.target.value)}\r\n              />\r\n            </div>\r\n            <div style={{ marginLeft: \"10px\" }}>\r\n              <label htmlFor=\"strokeWidth\">Stroke Width: </label>\r\n              <input\r\n                type=\"range\"\r\n                id=\"strokeWidth\"\r\n                value={strokeWidth}\r\n                min=\"1\"\r\n                max=\"5\"\r\n                onChange={(e) => setStrokeWidth(Number(e.target.value))}\r\n                style={{ width: \"75px\" }} // Set the width of the slider\r\n              />\r\n              <span>{strokeWidth}</span>\r\n            </div>\r\n          </div>\r\n          <DrawableCanvas {...canvasProps} id={`${id}`} />\r\n        </CanvasStateProvider>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DrawingApp\r\n","import React, { useState } from \"react\"\r\nimport { saveAs } from \"file-saver\"\r\n//import html2canvas from \"html2canvas\"\r\nimport { PDFDocument, StandardFonts } from \"pdf-lib\"\r\nimport DrawingApp from \"./DrawingApp\"\r\n\r\nconst QuestionsComponent = ({ questions }) => {\r\n  const [userAnswers, setUserAnswers] = useState({})\r\n  const [fullname, setFullname] = useState(\"\")\r\n\r\n  const handleInputChange = (questionId, value) => {\r\n    setUserAnswers((prev) => ({\r\n      ...prev,\r\n      [questionId]: value,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    const userInputData = questions.map((question, index) => ({\r\n      ...question,\r\n      \"user-answer\": userAnswers[index] || \"\",\r\n    }))\r\n\r\n    const json = JSON.stringify(userInputData, null, 2)\r\n    const blob = new Blob([json], { type: \"application/json\" })\r\n\r\n    saveAs(blob, \"user-input.json\")\r\n  }\r\n\r\n  // const generateCanvasImage = async (id) => {\r\n  //   const canvas = document.getElementById(id)\r\n  //   if (canvas) {\r\n  //     const canvasElement = await html2canvas(canvas)\r\n  //     return canvasElement.toDataURL(\"image/png\")\r\n  //   }\r\n  //   return \"\"\r\n  // }\r\n\r\n  const wrapText = (text, font, size, maxWidth) => {\r\n    const words = text.split(\" \")\r\n    let lines = []\r\n    let currentLine = words[0]\r\n\r\n    for (let i = 1; i < words.length; i++) {\r\n      const word = words[i]\r\n      const width = font.widthOfTextAtSize(currentLine + \" \" + word, size)\r\n      if (width < maxWidth) {\r\n        currentLine += \" \" + word\r\n      } else {\r\n        lines.push(currentLine)\r\n        currentLine = word\r\n      }\r\n    }\r\n    lines.push(currentLine)\r\n    return lines\r\n  }\r\n\r\n  const addNewPage = (pdfDoc, pageWidth, pageHeight) => {\r\n    const page = pdfDoc.addPage([pageWidth, pageHeight])\r\n    return { page, yOffset: pageHeight - 50 }\r\n  }\r\n\r\n  const handleGeneratePDF = async (e) => {\r\n    e.preventDefault()\r\n\r\n    const userInputData = questions.map((question, index) => ({\r\n      ...question,\r\n      \"user-answer\": userAnswers[index] || \"\",\r\n    }))\r\n\r\n    const pdfDoc = await PDFDocument.create()\r\n    const font = await pdfDoc.embedFont(StandardFonts.Helvetica)\r\n    const boldFont = await pdfDoc.embedFont(StandardFonts.HelveticaBold)\r\n    const paddingLeft = 20\r\n    const pageHeight = 800\r\n    const pageWidth = 600\r\n    const maxWidth = pageWidth - 2 * paddingLeft\r\n\r\n    let { page, yOffset } = addNewPage(pdfDoc, pageWidth, pageHeight)\r\n\r\n    const fullNameLines = wrapText(\r\n      `Full Name: ${fullname}`,\r\n      boldFont,\r\n      14,\r\n      maxWidth\r\n    )\r\n    for (const line of fullNameLines) {\r\n      page.drawText(line, {\r\n        x: paddingLeft,\r\n        y: yOffset,\r\n        size: 14,\r\n        font: boldFont,\r\n      })\r\n      yOffset -= 20\r\n    }\r\n    yOffset -= 20\r\n\r\n    for (const [index, question] of userInputData.entries()) {\r\n      if (yOffset < 100) {\r\n        ;({ page, yOffset } = addNewPage(pdfDoc, pageWidth, pageHeight))\r\n      }\r\n\r\n      const questionText = `${index + 1}. ${question.label}`\r\n      const questionLines = wrapText(questionText, font, 12, maxWidth)\r\n      for (const line of questionLines) {\r\n        page.drawText(line, {\r\n          x: paddingLeft,\r\n          y: yOffset,\r\n          size: 12,\r\n          font: font,\r\n        })\r\n        yOffset -= 20\r\n      }\r\n\r\n      if (question.qtype === \"mc-quest\") {\r\n        for (const option of question.options) {\r\n          if (yOffset < 100) {\r\n            ;({ page, yOffset } = addNewPage(pdfDoc, pageWidth, pageHeight))\r\n          }\r\n\r\n          const optionLines = wrapText(option, font, 10, maxWidth - 20)\r\n          for (const line of optionLines) {\r\n            page.drawText(line, {\r\n              x: paddingLeft + 20,\r\n              y: yOffset,\r\n              size: 10,\r\n              font: font,\r\n            })\r\n            yOffset -= 15\r\n          }\r\n        }\r\n      }\r\n\r\n      if (yOffset < 100) {\r\n        ;({ page, yOffset } = addNewPage(pdfDoc, pageWidth, pageHeight))\r\n      }\r\n\r\n      const answerText = `Answer: ${question[\"user-answer\"]}`\r\n      const answerLines = wrapText(answerText, boldFont, 12, maxWidth)\r\n      for (const line of answerLines) {\r\n        page.drawText(line, {\r\n          x: paddingLeft,\r\n          y: yOffset,\r\n          size: 12,\r\n          font: boldFont,\r\n        })\r\n        yOffset -= 20\r\n      }\r\n      yOffset -= 10\r\n\r\n      // if (question.qtype === \"graphing-quest\") {\r\n      //   const canvasId = `canvas-canvas-${index}`\r\n      //   const canvasImage = await generateCanvasImage(canvasId)\r\n      //   if (canvasImage) {\r\n      //     if (yOffset < 250) {\r\n      //       ;({ page, yOffset } = addNewPage(pdfDoc, pageWidth, pageHeight))\r\n      //     }\r\n\r\n      //     const pngImage = await pdfDoc.embedPng(canvasImage)\r\n      //     page.drawImage(pngImage, {\r\n      //       x: paddingLeft,\r\n      //       y: yOffset - 200,\r\n      //       width: 200,\r\n      //       height: 200,\r\n      //     })\r\n      //     yOffset -= 250\r\n      //   }\r\n      // }\r\n      if (question.qtype === \"graphing-quest\") {\r\n        const mainCanvasId = `canvas-canvas-${index}`\r\n        const backgroundCanvasId = `backgroundimage-canvas-canvas-${index}`\r\n\r\n        // Function to combine main and background canvases\r\n        async function combineCanvases(mainCanvasId, backgroundCanvasId) {\r\n          const mainCanvas = document.getElementById(mainCanvasId)\r\n          const backgroundCanvas = document.getElementById(backgroundCanvasId)\r\n\r\n          // Create a temporary canvas with the same dimensions\r\n          const tempCanvas = document.createElement(\"canvas\")\r\n          tempCanvas.width = mainCanvas.width\r\n          tempCanvas.height = mainCanvas.height\r\n          const tempCtx = tempCanvas.getContext(\"2d\")\r\n\r\n          // Draw the background canvas first\r\n          tempCtx.drawImage(\r\n            backgroundCanvas,\r\n            0,\r\n            0,\r\n            tempCanvas.width,\r\n            tempCanvas.height\r\n          )\r\n\r\n          // Draw the main canvas on top\r\n          tempCtx.drawImage(\r\n            mainCanvas,\r\n            0,\r\n            0,\r\n            tempCanvas.width,\r\n            tempCanvas.height\r\n          )\r\n\r\n          // Return the combined image as a data URL\r\n          return tempCanvas.toDataURL(\"image/png\")\r\n        }\r\n\r\n        // Generate the combined image\r\n        const combinedCanvasImage = await combineCanvases(\r\n          mainCanvasId,\r\n          backgroundCanvasId\r\n        )\r\n\r\n        if (combinedCanvasImage) {\r\n          if (yOffset < 250) {\r\n            ;({ page, yOffset } = addNewPage(pdfDoc, pageWidth, pageHeight))\r\n          }\r\n\r\n          // Embed the combined image in the PDF\r\n          const pngImage = await pdfDoc.embedPng(combinedCanvasImage)\r\n          page.drawImage(pngImage, {\r\n            x: paddingLeft,\r\n            y: yOffset - 200,\r\n            width: 200,\r\n            height: 200,\r\n          })\r\n          yOffset -= 250\r\n        }\r\n      }\r\n    }\r\n\r\n    const pdfBytes = await pdfDoc.save()\r\n    const blob = new Blob([pdfBytes], { type: \"application/pdf\" })\r\n    saveAs(blob, \"user-input.pdf\")\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        minHeight: \"100vh\",\r\n        paddingLeft: \"20px\",\r\n      }}\r\n    >\r\n      <div style={{ textAlign: \"right\", padding: \"20px\" }}>\r\n        <button type=\"button\" onClick={handleGeneratePDF}>\r\n          Generate PDF\r\n        </button>\r\n      </div>\r\n      <form onSubmit={handleSubmit} style={{ flex: \"1\" }}>\r\n        <div style={{ marginBottom: \"30px\" }}>\r\n          <label>\r\n            Full Name:\r\n            <input\r\n              type=\"text\"\r\n              value={fullname}\r\n              onChange={(e) => setFullname(e.target.value)}\r\n              style={{ marginLeft: \"10px\", width: \"400px\", height: \"40px\" }}\r\n            />\r\n          </label>\r\n        </div>\r\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n          <div style={{ flex: \"1\", minWidth: \"300px\", paddingRight: \"20px\" }}>\r\n            {questions\r\n              .slice(0, Math.ceil(questions.length / 2))\r\n              .map((question, index) => (\r\n                <div key={index} style={{ marginBottom: \"30px\" }}>\r\n                  <label>\r\n                    {index + 1}. {question.label}\r\n                  </label>\r\n                  {question.qtype === \"mc-quest\" && (\r\n                    <div>\r\n                      {question.options.map((option, i) => (\r\n                        <div key={i}>\r\n                          <input\r\n                            type=\"radio\"\r\n                            name={`question-${index}`}\r\n                            value={option}\r\n                            onChange={() => handleInputChange(index, option)}\r\n                          />\r\n                          {option}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"float-num-quest\" && (\r\n                    <div\r\n                      style={{\r\n                        marginTop: \"10px\",\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"number\"\r\n                        style={{ height: \"35px\", fontSize: \"16px\" }} // Adjust the width as needed\r\n                        onChange={(e) =>\r\n                          handleInputChange(index, e.target.value)\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"one-line-text-quest\" && (\r\n                    <div style={{ marginTop: \"10px\" }}>\r\n                      <input\r\n                        type=\"text\"\r\n                        maxLength={150}\r\n                        style={{\r\n                          width: \"90%\",\r\n                          height: \"35px\",\r\n                          fontSize: \"20px\",\r\n                        }} // Adjust the width as needed\r\n                        onChange={(e) =>\r\n                          handleInputChange(index, e.target.value)\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"manylines-text-quest\" && (\r\n                    <div style={{ marginTop: \"10px\" }}>\r\n                      <textarea\r\n                        maxLength={500}\r\n                        style={{\r\n                          width: \"96%\",\r\n                          height: \"100px\",\r\n                          fontSize: \"20px\",\r\n                        }} // Adjust the width as needed\r\n                        onChange={(e) =>\r\n                          handleInputChange(index, e.target.value)\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"graphing-quest\" && (\r\n                    <div\r\n                      style={{\r\n                        marginTop: \"50px\",\r\n                        marginLeft: \"50px\",\r\n                        marginBottom: \"500px\",\r\n                      }}\r\n                    >\r\n                      <DrawingApp id={`canvas-${index}`} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n          </div>\r\n          <div\r\n            style={{ width: \"1px\", backgroundColor: \"#000\", margin: \"0 20px\" }}\r\n          ></div>\r\n          <div style={{ flex: \"1\", minWidth: \"300px\", paddingLeft: \"20px\" }}>\r\n            {questions\r\n              .slice(Math.ceil(questions.length / 2))\r\n              .map((question, index) => (\r\n                <div\r\n                  key={index + Math.ceil(questions.length / 2)}\r\n                  style={{ marginBottom: \"30px\" }}\r\n                >\r\n                  <label>\r\n                    {index + 1 + Math.ceil(questions.length / 2)}.{\" \"}\r\n                    {question.label}\r\n                  </label>\r\n                  {question.qtype === \"mc-quest\" && (\r\n                    <div>\r\n                      {question.options.map((option, i) => (\r\n                        <div key={i}>\r\n                          <input\r\n                            type=\"radio\"\r\n                            name={`question-${\r\n                              index + Math.ceil(questions.length / 2)\r\n                            }`}\r\n                            value={option}\r\n                            onChange={() =>\r\n                              handleInputChange(\r\n                                index + Math.ceil(questions.length / 2),\r\n                                option\r\n                              )\r\n                            }\r\n                          />\r\n                          {option}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"float-num-quest\" && (\r\n                    <div style={{ marginTop: \"10px\" }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        onChange={(e) =>\r\n                          handleInputChange(\r\n                            index + Math.ceil(questions.length / 2),\r\n                            e.target.value\r\n                          )\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"one-line-text-quest\" && (\r\n                    <div style={{ marginTop: \"10px\" }}>\r\n                      <input\r\n                        type=\"text\"\r\n                        maxLength={150}\r\n                        style={{\r\n                          width: \"95%\",\r\n                          height: \"35px\",\r\n                          fontSize: \"20px\",\r\n                        }}\r\n                        onChange={(e) =>\r\n                          handleInputChange(\r\n                            index + Math.ceil(questions.length / 2),\r\n                            e.target.value\r\n                          )\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"manylines-text-quest\" && (\r\n                    <div style={{ marginTop: \"10px\" }}>\r\n                      <textarea\r\n                        maxLength={500}\r\n                        style={{\r\n                          width: \"100%\",\r\n                          height: \"100px\",\r\n                          fontSize: \"20px\",\r\n                        }}\r\n                        onChange={(e) =>\r\n                          handleInputChange(\r\n                            index + Math.ceil(questions.length / 2),\r\n                            e.target.value\r\n                          )\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {question.qtype === \"graphing-quest\" && (\r\n                    <div\r\n                      style={{\r\n                        marginTop: \"50px\",\r\n                        marginLeft: \"50px\",\r\n                        marginBottom: \"500px\",\r\n                      }}\r\n                    >\r\n                      <DrawingApp\r\n                        id={`canvas-${index + Math.ceil(questions.length / 2)}`}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default QuestionsComponent\r\n","import React from \"react\"\r\nimport QuestionsComponent from \"../components/QuestionsComponent\"\r\nimport data from \"./questions3.json\" // Import the JSON file\r\n\r\nconst Discussion03 = () => {\r\n  const currentDate = new Date()\r\n  const targetDate = new Date(\"2024-11-14T11:30:00\")\r\n  const endDate = new Date(\"2024-11-30T23:59:00\")\r\n\r\n  const isAvailable = currentDate >= targetDate && currentDate <= endDate\r\n\r\n  return (\r\n    <div>\r\n      <h1>Discussion 3: AD-AS model application</h1>\r\n      <p>\r\n        Note that you are here just generating a .pdf format of your answers to\r\n        the questions. Nothing is submitted here. Once you generate the pdf file\r\n        submit it on gradescope. Directions on how to do so are given in\r\n        blackboard of the course\r\n      </p>\r\n      {isAvailable ? (\r\n        <QuestionsComponent questions={data.questions} />\r\n      ) : (\r\n        <p>Not available yet or past due</p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Discussion03\r\n","// Footer.js\r\nimport React from \"react\"\r\nimport \"./Footer.css\" // Optional: for styling\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>\r\n        © 2024 aembaye. All rights reserved. You may not distribute any file\r\n        generated from this site.\r\n      </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","// App.js\nimport React from \"react\"\n//import { BrowserRouter as Router, Routes, Route } from \"react-router-dom\"\nimport { HashRouter as Router, Routes, Route } from \"react-router-dom\"\nimport \"./App.css\"\nimport Navbar from \"./components/Navbar\"\nimport Home from \"./pages\"\nimport Discussion03 from \"./pages/Discussion03\"\nimport Footer from \"./components/Footer\" // Import the Footer component\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"app\">\n        <Navbar />\n        <div className=\"content\">\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/Discussion03\" element={<Discussion03 />} />\n          </Routes>\n        </div>\n        <Footer />\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n","//index.tsx\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\n//import ReactDOM from \"react-dom/client\";\nimport App from \"./App\"\nimport \"./index.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enabled\":\"CanvasToolbar_enabled__1oguv\",\"disabled\":\"CanvasToolbar_disabled__38fpg\",\"invertx\":\"CanvasToolbar_invertx__31VYq\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAwwAAAMMBnc7+MwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEFSURBVEiJ7dSxLkRBFMbx31BIlkQlHoCap5BQLAXvQafV6DyLRLYSdkWv0dBQ0NAKkUhkj2bEzc3udW9xE5E9yVfNd85/5pyZSRGhzZhqtfoE8DcAKaVOqwD0mkBSSnNNAAmBAboR8V4qtoguVrNWMI9n3Gad4SQqHlRk9dHJvmns4qWwXqUrbESEspSMfazhekyhN9zhc8z6KWarAKN0jm0sI+WkmdyuPTyV/JdFSBXgATujjl3aYQf7+CjkXhTaPRYw+DbVETZLkMM6Leo3hGxhmHNfsVBnBk0hx4XcozqARpA8/GG+bQcJ6+rFTUQ81jGmlJYi4p6fa9da/IPvegL4Lb4A0uc9nRaYXwcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAhQAAAIUB4uz/wQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHUSURBVEiJtda9ahRRFAfw3xHFJCabFEkawcYiYKMWVmohBHwFOwsfQLCxthOENHZqKxZG8DHSxcJC0Qcw7AqSNSoGci3mznp3nP0K8cBlZs7X/5z//RopJeMGlrGL1Bi7WJ4Uf9pk2cQVPMDPrJvHVra9GRc8BBARS7iKU4X6cn5+wvf8vljbIuJr4XuEdyml/YGmoGIdX/xLxayji/U2iu5iJXfwa1zbY2QOOznXE4YpuoE93D5m8lr2cLMN4BWu4TF+4HDGxIEOeng90DaW5BkVj/fyd6dhP4u5hq6Tnxdz7GZpL1eLlNIhvmEtq7Yj4mHhsoWng5Ir23b+rGO6Zc62fdAtnFewUdjOqyaylo3sMxJgqIMsvcJ5X8XrKFlCvwHQmwRQdjArwH5K6fc0AKvHAFjVoGcUwCwUdbKPHNNrOpw0RVN10MVCRCz8T4A6oI/FiIiTBKh5XFN1EDnRkETEnGrnH2sOSoC60rbqoR8R8zg3bQe102oB0DYPAwB/l/VkgJTSgeo+KDtoA6h1fSN2Me1nUV3JOj7iOT5k/csi5jNe4D2uj+og8lE7rIx4hjt4hIMRRZRyX7UYLqWUjoYsI35VLuCt6tKZ5h7ewa22XH8AgjMTispa6ucAAAAASUVORK5CYII=\""],"sourceRoot":""}